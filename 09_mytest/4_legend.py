import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import sys
from matplotlib.ticker import MultipleLocator, FormatStrFormatter

cl = ['Uptime', 'SOC', 'batteryCurrent', 'batteryVoltage', 'batterychrgType', 'batteryTemp', 'CP_temp', 'CPEnable', 'CPCurrent', 'inputCurrentLimited', 'usbVoltage', 'usbCurrent', 'inputCurrentSettled', 'usbRealType', 'chargerTemp']


datas =  [[99.1, 12, 1224060, 3826758, 'Fast', 320, 0, 0, 0, 1, 4494800, 1491890, 1500000, 'USB_CDP', 447], [114.6, 12, 1106263, 3827925, 'Fast', 321, 0, 0, 0, 1, 4498960, 1493835, 1500000, 'USB_CDP', 447], [129.95, 12, 1231690, 3827147, 'N/A', 322, 0, 0, 0, 0, 0, 0, 0, 'Unknown', 447], [143.74, 12, -244751, 3712895, 'N/A', 322, 0, 0, 0, 0, 0, 0, 0, 'Unknown', 0], [158.58, 12, -164184, 3713090, 'N/A', 323, 0, 0, 0, 0, 0, 0, 0, 'Unknown', 0], [174.16, 12, -242614, 3711922, 'N/A', 323, 0, 0, 0, 0, 0, 0, 0, 'Unknown', 0], [186.2, 12, 3251955, 3977212, 'Fast', 318, 482, 1, 542934, 0, 8401024, 2062175, 2400000, 'USB_PD', 552], [197.14, 12, 3578188, 4011857, 'Fast', 318, 525, 1, 720444, 0, 8457088, 2263300, 2450000, 'USB_PD', 610], [208.06, 13, 3568117, 4022368, 'Fast', 319, 549, 1, 732384, 0, 8472656, 2053415, 2450000, 'USB_PD', 644], [219.08, 13, 3037111, 3992783, 'Fast', 320, 525, 1, 5994, 0, 8657424, 1954800, 2450000, 'USB_PD', 688], [229.98, 13, 3035890, 3996286, 'Fast', 321, 536, 1, 6130, 0, 8800688, 1946040, 2450000, 'USB_PD', 704], [241.03, 13, 3880312, 4063631, 'Fast', 320, 607, 1, 710326, 1, 8651200, 2436525, 2450000, 'USB_PD', 697], [251.83, 13, 3911745, 4072195, 'Fast', 322, 628, 1, 954920, 1, 8714528, 2440415, 2450000, 'USB_PD', 695], [262.74, 14, 3920596, 4075698, 'Fast', 324, 643, 1, 1036536, 1, 8760192, 2423550, 2450000, 'USB_PD', 690], [273.81, 14, 3916323, 4079591, 'Fast', 325, 665, 1, 1274508, 1, 8825600, 2422250, 2450000, 'USB_PD', 676], [284.79, 14, 3939516, 4082121, 'Fast', 327, 682, 1, 1411404, 1, 8867120, 2445285, 2450000, 'USB_PD', 670], [295.6, 14, 3905642, 4080564, 'Fast', 329, 694, 1, 1486534, 1, 8883728, 2434255, 2450000, 'USB_PD', 668], [306.63, 14, 3952029, 4087960, 'Fast', 331, 698, 1, 1446178, 1, 8886848, 2433605, 2450000, 'USB_PD', 673], [317.54, 14, 3941042, 4087571, 'Fast', 333, 702, 1, 1524682, 1, 8883728, 2432955, 2450000, 'USB_PD', 676], [328.33, 15, 3918154, 4087377, 'Fast', 334, 704, 1, 1489390, 1, 8886848, 2434900, 2450000, 'USB_PD', 679]]

df = pd.DataFrame(data=datas, columns=cl)
#print(df)


fig_soc = plt.figure(figsize=(16, 8))
time = df['Uptime']

V_bus = df['usbVoltage']
p1, =plt.plot(time, V_bus, 'b', linewidth=3.0)

         
T_batt = df['batteryTemp']
p2, = plt.plot(time, T_batt, '-.', color='r', alpha=0.5)

plt.legend((p1, p2), ('V_bus', 'I_bus'), loc='best')
plt.show()